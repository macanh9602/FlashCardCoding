<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Master</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container mt-4">
        <header class="text-center mb-4">
            <div id="auth-container">
            </div>
            <h1>Flashcard Master üéì</h1>
            <p class="lead">N·ªÅn t·∫£ng h·ªçc t·ª´ v·ª±ng c√° nh√¢n c·ªßa b·∫°n</p>
        </header>

        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="library-tab" data-bs-toggle="tab" data-bs-target="#library-pane"
                    type="button" role="tab">üìö Th∆∞ vi·ªán</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="add-card-tab" data-bs-toggle="tab" data-bs-target="#add-card-pane"
                    type="button" role="tab">‚ûï Th√™m th·∫ª m·ªõi</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="quiz-tab" data-bs-toggle="tab" data-bs-target="#quiz-pane" type="button"
                    role="tab">üß† Practice FlashCard</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="synonym-quiz-tab" data-bs-toggle="tab" data-bs-target="#synonym-quiz-pane"
                    type="button" role="tab">üìù Practice Synonyms</button>
            </li>
        </ul>

        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active p-3" id="library-pane" role="tabpanel">
                <h4>Qu·∫£n l√Ω b·ªô th·∫ª</h4>
                <div class="input-group mb-3">
                    <input type="text" id="new-deck-input" class="form-control" placeholder="T√™n b·ªô th·∫ª m·ªõi...">
                    <button id="add-deck-btn" class="btn btn-primary">T·∫°o</button>
                </div>

                <div id="deck-list" class="row g-3">
                </div>
                <hr>
                <div class="my-3 p-3 bg-light border rounded">
                    <h5>C√¥ng c·ª• d·ªØ li·ªáu</h5>
                    <p class="small text-muted">S·ª≠ d·ª•ng ch·ª©c nƒÉng n√†y ƒë·ªÉ t·ª± ƒë·ªông t√¨m v√† th√™m t·ª´ ƒë·ªìng nghƒ©a cho t·∫•t c·∫£
                        c√°c th·∫ª c≈© ch∆∞a c√≥. Qu√° tr√¨nh n√†y c√≥ th·ªÉ m·∫•t v√†i ph√∫t t√πy thu·ªôc v√†o s·ªë l∆∞·ª£ng th·∫ª c·ªßa b·∫°n.</p>
                    <button id="batch-update-synonyms-btn" class="btn btn-info">üöÄ Ch·∫°y c·∫≠p nh·∫≠t t·ª´ ƒë·ªìng nghƒ©a h√†ng
                        lo·∫°t</button>
                </div>
                <h4 id="cards-list-title" class="mt-4">T·∫•t c·∫£ th·∫ª</h4>
                <div id="cards-list" class="list-group">
                </div>
            </div>

            <div class="tab-pane fade p-3" id="add-card-pane" role="tabpanel">
                <h4>Th√™m th·∫ª ki·∫øn th·ª©c m·ªõi</h4>
                <div class="form-group mb-2">
                    <label for="deck-select">Ch·ªçn b·ªô th·∫ª</label>
                    <select id="deck-select" class="form-select"></select>
                </div>
                <div class="form-group mb-2">
                    <label for="front-input">M·∫∑t tr∆∞·ªõc (Ti·∫øng Anh)</label>
                    <div class="input-group">
                        <input type="text" id="front-input" class="form-control" placeholder="Nh·∫≠p t·ª´ ti·∫øng Anh...">
                        <button class="btn btn-outline-secondary" type="button" id="search-synonyms-btn">üîç T·ª± ƒë·ªông t√¨m
                            t·ª´ ƒë·ªìng nghƒ©a</button>
                    </div>
                </div>

                <div id="synonyms-manager" class="mt-3">
                    <label class="form-label">Danh s√°ch t·ª´ ƒë·ªìng nghƒ©a (c√≥ th·ªÉ th√™m/s·ª≠a/x√≥a):</label>
                    <div id="synonyms-list" class="mb-2">
                    </div>
                    <div class="input-group input-group-sm">
                        <input type="text" id="manual-synonym-input" class="form-control"
                            placeholder="Th√™m th·ªß c√¥ng...">
                        <button class="btn btn-outline-success" type="button" id="add-synonym-btn">Th√™m</button>
                    </div>
                </div>
                <div class="form-group mb-3 mt-3">
                    <label for="back-input">M·∫∑t sau (Nghƒ©a Ti·∫øng Vi·ªát & V√≠ d·ª•)</label>
                    <textarea id="back-input" class="form-control" rows="4"></textarea>
                </div>
                <button id="save-card-btn" class="btn btn-success">L∆∞u th·∫ª</button>
            </div>

            <div class="tab-pane fade p-3" id="quiz-pane" role="tabpanel">
                <div id="quiz-setup">
                    <div class="section-box">
                        <h3>B·∫Øt ƒë·∫ßu √¥n t·∫≠p</h3>
                        <div class="setup-row mb-3">
                            <label for="quiz-deck-filter" class="form-label">Ch·ªçn b·ªô th·∫ª:</label>
                            <select id="quiz-deck-filter" class="form-select"></select>
                        </div>
                        <div class="setup-row mb-3">
                            <label for="quiz-direction" class="form-label">Ki·ªÉm tra:</label>
                            <select id="quiz-direction" class="form-select">
                                <option value="front-to-back">M·∫∑t tr∆∞·ªõc ‚û§ M·∫∑t sau</option>
                                <option value="back-to-front">M·∫∑t sau ‚û§ M·∫∑t tr∆∞·ªõc</option>
                            </select>
                        </div>
                        <div class="setup-row statuses mb-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input status-filter" type="checkbox" value="chua-thuoc"
                                    id="check-chua-thuoc" checked>
                                <label class="form-check-label" for="check-chua-thuoc">Ch∆∞a thu·ªôc</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input status-filter" type="checkbox" value="tam-on"
                                    id="check-tam-on" checked>
                                <label class="form-check-label" for="check-tam-on">T·∫°m ·ªïn</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input status-filter" type="checkbox" value="da-thuoc"
                                    id="check-da-thuoc">
                                <label class="form-check-label" for="check-da-thuoc">ƒê√£ thu·ªôc</label>
                            </div>
                        </div>
                        <button id="start-quiz-btn" class="btn btn-primary btn-lg">üöÄ B·∫Øt ƒë·∫ßu!</button>
                    </div>
                </div>
                <div id="quiz-view" class="hidden">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <button id="end-quiz-btn" class="btn btn-sm btn-outline-secondary">K·∫øt th√∫c</button>
                        <h4 id="quiz-progress" class="mb-0"></h4>
                    </div>
                    <div class="quiz-card">
                        <div class="quiz-card-inner">
                            <div class="quiz-card-front">
                                <div id="quiz-front" class="card-title"></div>
                                <div id="quiz-ipa" class="card-subtitle text-muted"></div>
                            </div>
                            <div class="quiz-card-back">
                                <div id="quiz-back" class="card-text"></div>
                            </div>
                        </div>
                    </div>
                    <div class="quiz-controls mt-3 text-center">
                        <div id="tts-buttons" class="d-inline-block">
                            <button id="tts-us-btn" class="btn btn-info">üîä US</button>
                            <button id="tts-uk-btn" class="btn btn-info">üîä UK</button>
                        </div>
                    </div>
                    <div id="status-buttons" class="mt-3 text-center hidden">
                        <button class="btn btn-danger status-btn" data-status="chua-thuoc">üü• Ch∆∞a thu·ªôc</button>
                        <button class="btn btn-warning status-btn" data-status="tam-on">üü® T·∫°m ·ªïn</button>
                        <button class="btn btn-success status-btn" data-status="da-thuoc">üü© ƒê√£ thu·ªôc</button>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade p-3" id="synonym-quiz-pane" role="tabpanel">
                <div id="synonym-quiz-setup">
                    <div class="section-box">
                        <h3>Luy·ªán t·∫≠p T·ª´ ƒë·ªìng nghƒ©a</h3>
                        <p>H·ªá th·ªëng s·∫Ω ƒë∆∞a ra m·ªôt t·ª´, b·∫°n h√£y ch·ªçn t·ª´ ƒë·ªìng nghƒ©a ƒë√∫ng nh·∫•t trong c√°c l·ª±a ch·ªçn b√™n d∆∞·ªõi.
                        </p>
                        <div class="setup-row mb-3">
                            <label class="form-label">Ch·ªçn c√°c b·ªô th·∫ª ƒë·ªÉ √¥n t·∫≠p:</label>
                            <div id="synonym-deck-checkboxes" class="border rounded p-2" style="max-height: 150px; overflow-y: auto;">
                                </div>
                            <div class="form-check mt-2">
                                <input class="form-check-input" type="checkbox" id="synonym-toggle-all-decks" checked>
                                <label class="form-check-label" for="synonym-toggle-all-decks">
                                    Ch·ªçn t·∫•t c·∫£ / B·ªè ch·ªçn t·∫•t c·∫£
                                </label>
                            </div>
                        </div>
                        <button id="start-synonym-quiz-btn" class="btn btn-info btn-lg">üí° B·∫Øt ƒë·∫ßu ngay!</button>
                    </div>
                </div>
                <div id="synonym-quiz-view" class="hidden">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <button id="end-synonym-quiz-btn" class="btn btn-sm btn-outline-secondary">K·∫øt th√∫c</button>
                        <h4 id="synonym-quiz-progress" class="mb-0"></h4>
                    </div>
                    <div class="text-center">
                        <p class="lead">T√¨m t·ª´ ƒë·ªìng nghƒ©a cho:</p>
                        <h2 id="synonym-question-word" class="display-4 my-4"></h2>
                        <div id="synonym-options-container" class="d-grid gap-2 col-6 mx-auto">

                        </div>
                        <div id="synonym-feedback" class="mt-3"></div>
                        <button id="next-synonym-question-btn" class="btn btn-primary mt-4 hidden">C√¢u ti·∫øp theo
                            ‚ûî</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="info-modal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="info-modal-title">Word Info</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="info-modal-body"></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="import-options-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">T√πy ch·ªçn Nh·∫≠p D·ªØ li·ªáu</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>B·∫°n mu·ªën x·ª≠ l√Ω d·ªØ li·ªáu t·ª´ file nh∆∞ th·∫ø n√†o?</p>
                    <div class="d-grid gap-2">
                        <button type="button" class="btn btn-primary" id="merge-data-btn">
                            <strong>H·ª£p nh·∫•t (An to√†n)</strong>
                            <small class="d-block">Ch·ªâ th√™m c√°c b·ªô th·∫ª v√† th·∫ª m·ªõi. D·ªØ li·ªáu hi·ªán t·∫°i s·∫Ω ƒë∆∞·ª£c gi·ªØ
                                l·∫°i.</small>
                        </button>
                        <button type="button" class="btn btn-danger" id="replace-data-btn">
                            <strong>Ghi ƒë√® (X√≥a d·ªØ li·ªáu c≈©)</strong>
                            <small class="d-block">X√≥a to√†n b·ªô d·ªØ li·ªáu hi·ªán t·∫°i v√† thay th·∫ø b·∫±ng d·ªØ li·ªáu t·ª´
                                file.</small>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="edit-modal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ch·ªânh s·ª≠a th·∫ª</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="edit-card-id">
                    <div class="form-group mb-2">
                        <label for="edit-deck-select">B·ªô th·∫ª</label>
                        <select id="edit-deck-select" class="form-select"></select>
                    </div>
                    <div class="form-group mb-2">
                        <label for="edit-front-input">M·∫∑t tr∆∞·ªõc</label>
                        <div class="input-group">
                            <input type="text" id="edit-front-input" class="form-control">
                            <button class="btn btn-outline-secondary" type="button" id="edit-search-synonyms-btn">üîç
                                T√¨m</button>
                        </div>
                    </div>

                    <div id="edit-synonyms-manager" class="mt-3">
                        <label class="form-label">Danh s√°ch t·ª´ ƒë·ªìng nghƒ©a:</label>
                        <div id="edit-synonyms-list" class="mb-2">
                        </div>
                        <div class="input-group input-group-sm">
                            <input type="text" id="edit-manual-synonym-input" class="form-control"
                                placeholder="Th√™m th·ªß c√¥ng...">
                            <button class="btn btn-outline-success" type="button"
                                id="edit-add-synonym-btn">Th√™m</button>
                        </div>
                    </div>
                    <div class="form-group mb-3 mt-3">
                        <label for="edit-back-input">M·∫∑t sau</label>
                        <textarea id="edit-back-input" class="form-control" rows="4"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                    <button type="button" class="btn btn-primary" id="save-edit-btn">L∆∞u thay ƒë·ªïi</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>

</html>